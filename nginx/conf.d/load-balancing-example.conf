# Example: Load Balancing Configuration
# This file demonstrates different load balancing strategies
# Uncomment and customize as needed

# Example 1: Round Robin (Default)
# upstream backend_api {
#     server backend1:8080;
#     server backend2:8080;
#     server backend3:8080;
# }

# Example 2: Least Connections
# upstream backend_api {
#     least_conn;
#     server backend1:8080;
#     server backend2:8080;
#     server backend3:8080;
# }

# Example 3: Weighted Round Robin
# upstream backend_api {
#     server backend1:8080 weight=3;  # Gets 50% of traffic
#     server backend2:8080 weight=2;  # Gets 33% of traffic
#     server backend3:8080 weight=1;  # Gets 17% of traffic
# }

# Example 4: IP Hash (Session Persistence)
# upstream backend_api {
#     ip_hash;
#     server backend1:8080;
#     server backend2:8080;
#     server backend3:8080;
# }

# Example 5: Health Checks with Failover
# upstream backend_api {
#     server backend1:8080 max_fails=3 fail_timeout=30s;
#     server backend2:8080 max_fails=3 fail_timeout=30s backup;
#     server backend3:8080 max_fails=3 fail_timeout=30s backup;
# }

# Example 6: Sticky Sessions (Nginx Plus)
# upstream backend_api {
#     zone backend_api 64k;
#     server backend1:8080;
#     server backend2:8080;
#     sticky cookie srv_id expires=1h domain=.microservices path=/;
# }
